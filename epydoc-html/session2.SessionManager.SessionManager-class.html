<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>session2.SessionManager.SessionManager</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css"></link>
</head>
<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">

<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="session2-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" align="right" width="100%">
      <table border="0" cellpadding="0" cellspacing="0">
      <tr><th class="navbar" align="center">
        <p class="nomargin">
          session2
      </p></th></tr></table>
    </th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <font size="-1"><b class="breadcrumbs">
        <a href="session2-module.html">Package&nbsp;session2</a> ::
        <a href="session2.SessionManager-module.html">Module&nbsp;SessionManager</a> ::
        Class&nbsp;SessionManager
      </b></font></br>
    </td>
    <td><table cellpadding="0" cellspacing="0">
      <tr><td align="right"><font size="-2">[<a href="frames.html"target="_top">frames</a>&nbsp;|&nbsp;<a href="session2.SessionManager.SessionManager-class.html" target="_top">no&nbsp;frames</a>]</font></td></tr>
    </table></td>
</tr></table>

<!-- =========== START OF CLASS DESCRIPTION =========== -->
<h2 class="class">Class SessionManager</h2>

<hr/>

<p>A persistent session manager for Quixote.</p>
<hr/>


<!-- =========== START OF METHOD SUMMARY =========== -->
<table class="summary" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <th colspan="2">Method Summary</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="session2.SessionManager.SessionManager-class.html#__init__" class="summary-sig-name"><code>__init__</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>store_obj</span>,
          <span class=summary-sig-arg>session_class</span>)</span></code>
<br />
__init__ takes a session store instance and (optionally) the
session class to use for storing session information.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="__repr__"></a><span class="summary-sig"><span class="summary-sig-name">__repr__</span>(<span class=summary-sig-arg>self</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="session2.SessionManager.SessionManager-class.html#clear_session" class="summary-sig-name"><code>clear_session</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>request</span>)</span></code>
<br />
Clear any residual session information for this request.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="session2.SessionManager.SessionManager-class.html#expire_session" class="summary-sig-name"><code>expire_session</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Expire the current session, ie.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="session2.SessionManager.SessionManager-class.html#finish_failed_request" class="summary-sig-name"><code>finish_failed_request</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Called near the end of a failed request (i.e.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="session2.SessionManager.SessionManager-class.html#finish_successful_request" class="summary-sig-name"><code>finish_successful_request</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Called near the end of each successful request.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="session2.SessionManager.SessionManager-class.html#get_session" class="summary-sig-name"><code>get_session</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
() -&gt; Session</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="session2.SessionManager.SessionManager-class.html#has_session" class="summary-sig-name"><code>has_session</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>session_id</span>)</span></code>
<br />
(session_id : string) -&gt; boolean</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="session2.SessionManager.SessionManager-class.html#has_session_cookie" class="summary-sig-name"><code>has_session_cookie</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>must_exist</span>)</span></code>
<br />
(must_exist : boolean = false) -&gt; bool</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="session2.SessionManager.SessionManager-class.html#maintain_session" class="summary-sig-name"><code>maintain_session</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>session</span>)</span></code>
<br />
(session : Session) -&gt; bool</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="session2.SessionManager.SessionManager-class.html#new_session" class="summary-sig-name"><code>new_session</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>id</span>)</span></code>
<br />
(id : string) -&gt; Session</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="session2.SessionManager.SessionManager-class.html#revoke_session_cookie" class="summary-sig-name"><code>revoke_session_cookie</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Remove the session cookie from the remote user's session by
resetting the value and maximum age in the response object.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="session2.SessionManager.SessionManager-class.html#set_session_cookie" class="summary-sig-name"><code>set_session_cookie</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>session_id</span>)</span></code>
<br />
(session_id : string)</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="session2.SessionManager.SessionManager-class.html#start_request" class="summary-sig-name"><code>start_request</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Called near the beginning of each request: after the HTTPRequest
object has been built, but before we traverse the URL or call the
callable object found by URL traversal.</td></tr>
</table><br />


<!-- =========== START OF CLASS VARIABLE SUMMARY =========== -->
<table class="summary" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <th colspan="2">Class Variable Summary</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1"><code>int</code></font></td>
<td><b><a href="session2.SessionManager.SessionManager-class.html#ACCESS_TIME_RESOLUTION"><code>ACCESS_TIME_RESOLUTION</code></a></b> = <span title="1">1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>
</table><br />


<!-- =========== START OF METHOD DETAILS =========== -->
<table class="details" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="details">
  <th colspan="2">Method Details</th></tr>
</table>

<a name="__init__"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">__init__</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>store_obj</span>,
          <span class=sig-arg>session_class</span>=<span class=sig-default>&lt;class&nbsp;session2.Session.Session&nbsp;at&nbsp;0x4034b1ac&gt;</span>)</span>
    <br /><i>(Constructor)</i>
  </h3>
<p>__init__ takes a session store instance and (optionally) the
session class to use for storing session information.  (This
defaults to <a href="session2.Session.Session-class.html" class="link"><code>Session.Session</code></a>).</p>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="clear_session"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">clear_session</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>request</span>)</span>
  </h3>
<p>Clear any residual session information for this request.</p>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="expire_session"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">expire_session</span>(<span class=sig-arg>self</span>)</span>
  </h3>
<p>Expire the current session, ie. revoke the session cookie from
the client, remove the session object from the current request,
and list it for permanent removal.</p>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="finish_failed_request"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">finish_failed_request</span>(<span class=sig-arg>self</span>)</span>
  </h3>
<p>Called near the end of a failed request (i.e. a exception that was
not a PublisherError was raised.</p>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="finish_successful_request"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">finish_successful_request</span>(<span class=sig-arg>self</span>)</span>
  </h3>
<p>Called near the end of each successful request.  Not called if
there were any errors processing the request.</p>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="get_session"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">get_session</span>(<span class=sig-arg>self</span>)</span>
  </h3>
<p>() -&gt; Session</p>
<p>Fetch or create a session object for the current session, and
return it.  If a session cookie is found in the HTTP request
object, use it to look up and return an existing session object.
If no session cookie is found, create a new session.</p>
<p>Note that this method does <em>not</em> cause the new session to be
stored in the session manager, nor does it drop a session cookie
on the user.  Those are both the responsibility of
finish_successful_request().</p>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="has_session"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">has_session</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>session_id</span>)</span>
  </h3>
<p>(session_id : string) -&gt; boolean</p>
<p>Return true if a session identified by 'session_id' exists in
the session manager.</p>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="has_session_cookie"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">has_session_cookie</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>must_exist</span>=<span class=sig-default>False</span>)</span>
  </h3>
<p>(must_exist : boolean = false) -&gt; bool</p>
<p>Return true if the request already has a cookie identifying a
session object.  If 'must_exist' is true, the cookie must
correspond to a currently existing session; otherwise (the
default), we just check for the existence of the session cookie
and don't inspect its content at all.</p>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="maintain_session"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">maintain_session</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>session</span>)</span>
  </h3>
<p>(session : Session) -&gt; bool</p>
<p>Maintain session information.  This method is called after servicing
an HTTP request, just before the response is returned.  If a session
contains information a cookie is dropped on the client and True is
returned.  If not, the session is forcibly expired and False is
returned.</p>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="new_session"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">new_session</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>id</span>)</span>
  </h3>
<p>(id : string) -&gt; Session</p>
<p>Return a new session object, ie. an instance of the session_class
class passed to the constructor (defaults to Session).</p>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="revoke_session_cookie"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">revoke_session_cookie</span>(<span class=sig-arg>self</span>)</span>
  </h3>
<p>Remove the session cookie from the remote user's session by
resetting the value and maximum age in the response object.  Also
remove the cookie from the request so that further processing of
this request does not see the cookie's revoked value.</p>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="set_session_cookie"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">set_session_cookie</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>session_id</span>)</span>
  </h3>
<p>(session_id : string)</p>
<p>Ensure that a session cookie with value 'session_id' will be
returned to the client via the response object.</p>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="start_request"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">start_request</span>(<span class=sig-arg>self</span>)</span>
  </h3>
<p>Called near the beginning of each request: after the HTTPRequest
object has been built, but before we traverse the URL or call the
callable object found by URL traversal.</p>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
<br />


<!-- =========== START OF CLASS VARIABLE DETAILS =========== -->
<table class="details" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="details">
  <th colspan="2">Class Variable Details</th></tr>
</table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="ACCESS_TIME_RESOLUTION"></a>
<h3>ACCESS_TIME_RESOLUTION</h3>
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          <code>int</code>

      </dd>
<span title="1">      <dt><b>Value:</b></dt>
      <dd><table><tr><td>
<pre class="variable">
1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</pre>
        </td></tr></table></dd>
</span>    </dl>
  </dd>
</dl></td></tr></table>
<br />


<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="session2-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" align="right" width="100%">
      <table border="0" cellpadding="0" cellspacing="0">
      <tr><th class="navbar" align="center">
        <p class="nomargin">
          session2
      </p></th></tr></table>
    </th>
  </tr>
</table>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
    <td align="left"><font size="-2">Generated by Epydoc 2.1 on Sat Feb  4 16:40:10 2006</font></td>
    <td align="right"><a href="http://epydoc.sourceforge.net"
                      ><font size="-2">http://epydoc.sf.net</font></a></td>
  </tr>
</table>
</body>
</html>
